<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES6+ Refactoring Lab</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      color: white;
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    .subtitle {
      color: white;
      text-align: center;
      font-size: 1.2em;
      margin-bottom: 40px;
      opacity: 0.9;
    }
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }
    .code-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    .code-section h2 {
      color: #667eea;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .badge {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: 600;
    }
    .badge-old {
      background: #ff5252;
      color: white;
    }
    .badge-new {
      background: #4caf50;
      color: white;
    }
    pre {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      border-left: 4px solid #667eea;
      font-size: 14px;
      line-height: 1.6;
    }
    .features {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }
    .features h2 {
      color: #667eea;
      margin-bottom: 20px;
    }
    .feature-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
    }
    .feature-item {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .feature-icon {
      font-size: 1.5em;
    }
    .console-output {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      font-family: 'Courier New', monospace;
    }
    .console-output h3 {
      color: #4ec9b0;
      margin-bottom: 10px;
    }
    .output-line {
      margin: 5px 0;
      color: #ce9178;
    }
    @media (max-width: 768px) {
      .comparison {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”„ ES6+ Refactoring Lab</h1>
    <p class="subtitle">Transforming Legacy JavaScript to Modern ES6+ Code</p>
    
    <div class="comparison">
      <div class="code-section">
        <h2>
          <span>Legacy Code (ES5)</span>
          <span class="badge badge-old">OLD</span>
        </h2>
        <pre><code>// Old var declarations
var name = 'John';
var age = 25;

// Old function syntax
function greet(name) {
  return 'Hello, ' + name + '!';
}

// Old object creation
var user = {
  name: name,
  age: age
};

// Old array manipulation
var numbers = [1, 2, 3, 4, 5];
var doubled = [];
for (var i = 0; i < numbers.length; i++) {
  doubled.push(numbers[i] * 2);
}

// Old callback pattern
function fetchUser(callback) {
  setTimeout(function() {
    callback({ name: 'Alice' });
  }, 1000);
}</code></pre>
      </div>
      
      <div class="code-section">
        <h2>
          <span>Refactored Code (ES6+)</span>
          <span class="badge badge-new">NEW</span>
        </h2>
        <pre><code>// Let/Const declarations
const name = 'John';
const age = 25;

// Arrow function
const greet = (name) => `Hello, ${name}!`;

// Object shorthand
const user = { name, age };

// Array methods with arrow functions
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(num => num * 2);

// Promise instead of callback
const fetchUser = () => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({ name: 'Alice' });
    }, 1000);
  });
};</code></pre>
      </div>
    </div>
    
    <div class="features">
      <h2>âœ¨ ES6+ Features Demonstrated</h2>
      <div class="feature-list">
        <div class="feature-item">
          <span class="feature-icon">ğŸ“Œ</span>
          <span><strong>Let/Const:</strong> Block-scoped variables</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">â¡ï¸</span>
          <span><strong>Arrow Functions:</strong> Concise syntax</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“</span>
          <span><strong>Template Literals:</strong> String interpolation</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“¦</span>
          <span><strong>Object Shorthand:</strong> Cleaner objects</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ”„</span>
          <span><strong>Array Methods:</strong> map, filter, reduce</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">âš¡</span>
          <span><strong>Promises:</strong> Better async handling</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“¤</span>
          <span><strong>Destructuring:</strong> Extract values easily</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ”€</span>
          <span><strong>Spread/Rest:</strong> Flexible parameters</span>
        </div>
      </div>
      
      <div class="console-output">
        <h3>ğŸ’» Console Output:</h3>
        <div class="output-line">âœ… Refactored code loaded successfully!</div>
        <div class="output-line">ğŸ“Š Code size reduced by ~30%</div>
        <div class="output-line">ğŸš€ Performance improved with modern syntax</div>
        <div class="output-line">ğŸ¯ Better readability and maintainability</div>
      </div>
    </div>
  </div>

  <script type="module">
    // Import and test refactored code
    import { greet, fetchUser, getUserInfo } from './refactored-code.js';
    
    console.log('ğŸ”„ ES6+ Refactoring Lab Started!');
    console.log('');
    
    // Test arrow function
    console.log('Testing greet function:');
    console.log(greet('Developer')); // Hello, Developer!
    console.log('');
    
    // Test promise
    console.log('Testing async fetchUser:');
    fetchUser().then(user => {
      console.log('User fetched:', user);
      console.log('User info:', getUserInfo(user));
    });
    
    // Test array methods
    const numbers = [1, 2, 3, 4, 5];
    const doubled = numbers.map(num => num * 2);
    const evens = numbers.filter(num => num % 2 === 0);
    const sum = numbers.reduce((acc, num) => acc + num, 0);
    
    console.log('');
    console.log('Array operations:');
    console.log('Original:', numbers);
    console.log('Doubled:', doubled);
    console.log('Evens:', evens);
    console.log('Sum:', sum);
    
    // Test destructuring
    const user = { name: 'John', age: 25, city: 'Mumbai' };
    const { name, age } = user;
    console.log('');
    console.log('Destructuring:', { name, age });
    
    // Test spread operator
    const arr1 = [1, 2, 3];
    const arr2 = [4, 5, 6];
    const combined = [...arr1, ...arr2];
    console.log('');
    console.log('Spread operator:', combined);
  </script>
</body>
</html>
